{"version":3,"sources":["DB.js","components/Form.js","components/TodoItem.js","components/Todos.js","App.js","index.js"],"names":["prev","storage","DB_NAME","window","e","supported","alert","_save","localStorage","setItem","JSON","stringify","DB","getItem","parse","_load","getAll","set","todo","title","done","id","date","Date","now","toString","_uid","unshift","get","todoId","i","length","put","del","deleted","splice","Form","onChange","ev","setState","target","name","value","trimStart","onSubmit","preventDefault","props","addTodo","state","trim","className","this","type","placeholder","autoComplete","required","maxLength","React","Component","TodoItem","href","onClick","delTodo","bind","toggleTodo","Todos","todos","map","key","App","console","log","Todo","filter","Object","assign","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ea311236.chunk.js","sourcesContent":["export default (function(prev, storage, DB_NAME) {\n\n\tfunction supported() {\n\t\ttry {\n\t\t\treturn 'localStorage' in window && window['localStorage'] !== null;\n\t\t}\n\t\tcatch (e) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tif (!supported()) {\n\t\treturn alert('NO Local Storage functionality!');\n\t}\n\n\tfunction _load() {\n\t\tvar DB = localStorage.getItem(DB_NAME);\n\t\treturn JSON.parse(DB) || [];\n\t}\n\n\tfunction _save() {\n\t\tlocalStorage.setItem(DB_NAME, JSON.stringify(storage));\n\t\treturn true;\n\t}\n\n\tstorage = _load();\n\n\tfunction _uid() {\n\t\tvar date = Date.now();\n\t\tdate = (date <= prev) ? ++prev : date;\n\t\treturn date.toString(16);\n\t}\n\n\treturn {\n\n\t\tgetAll: function() {\n\t\t\treturn storage;\n\t\t},\n\n\t\tset: function(todo) {\n\n\t\t\tif (!todo.title || typeof todo.done === 'undefined') {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\ttodo.id = _uid();\n\t\t\tstorage.unshift(todo);\n\n\t\t\t_save();\n\t\t\treturn todo;\n\t\t},\n\n\t\tget: function(todoId) {\n\t\t\tfor (var i = 0; i < storage.length; i++){\n\t\t\t\tif (storage[i].id === todoId) {\n\t\t\t\t\treturn storage[i];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tput: function(todo) {\n\t\t\tfor (var i = 0; i < storage.length; i++){\n\t\t\t\tif (storage[i].id === todo.id) {\n\t\t\t\t\tstorage[i] = todo;\n\n\t\t\t\t\t_save();\n\t\t\t\t\treturn storage[i];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tdel: function(todoId) {\n\t\t\tvar deleted = {};\n\n\t\t\tfor (var i = 0; i < storage.length; i++){\n\t\t\t\tif (storage[i].id === todoId) {\n\t\t\t\t\tdeleted = storage[i];\n\t\t\t\t\tstorage.splice(i, 1);\n\n\t\t\t\t\t_save();\n\t\t\t\t\treturn deleted;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t};\n\n} (0, {}, \"APP_TODO\"));\n","import React from 'react';\n\nexport default class Form extends React.Component {\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\ttitle: ''\n\t\t};\n\t}\n\n\tonChange = (ev) => {\n\t\tthis.setState({\n\t\t\t[ev.target.name]: ev.target.value.trimStart()\n\t\t});\n\t}\n\n\tonSubmit = (ev) => {\n\t\tev.preventDefault();\n\t\tthis.props.addTodo(this.state.title.trim());\n\t\tthis.setState({ title: '' });\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<form className=\"item-add\" onSubmit={this.onSubmit}>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tname=\"title\"\n\t\t\t\t\tplaceholder=\"Type a new item here.\"\n\t\t\t\t\tclassName=\"input\"\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\trequired\n\t\t\t\t\tmaxLength=\"48\"\n\t\t\t\t\tvalue={this.state.title}\n\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t/>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tvalue=\"Add\"\n\t\t\t\t\tclassName=\"submit\"\n\t\t\t\t/>\n\t\t</form>\n\t\t);\n\t}\n}","import React from 'react';\n\nexport default class TodoItem extends React.Component {\n\n\trender() {\n\t\tlet todo = this.props.todo;\n\n\t\treturn (\n\t\t\t<li>\n\t\t\t\t<span className={`item ${todo.done ? 'done' : ''}`}>\n\t\t\t\t\t{ todo.title }\n\t\t\t\t</span>\n\t\t\t\t<a\thref=\"# \"\n\t\t\t\t\tclassName={`del-button ${todo.done ? '' : 'hide'}`}\n\t\t\t\t\tonClick={this.props.delTodo.bind(this, todo.id)}\n\t\t\t\t> X </a>\n\t\t\t\t<a\thref=\"# \"\n\t\t\t\t\tclassName=\"done-button\"\n\t\t\t\t\tonClick={this.props.toggleTodo.bind(this, todo.id)}\n\t\t\t\t> { todo.done ? 'Undone' : 'Done' }</a>\n\t\t\t</li>\n\t\t);\n\t}\n}\n","import React from 'react';\nimport TodoItem from './TodoItem'\n\nexport default class Todos extends React.Component {\n\n\trender() {\n\t\treturn (\n\t\t\t<ul className=\"items\">\n\t\t\t\t{this.props.todos.map(todo => (\n\t\t\t\t\t<TodoItem \n\t\t\t\t\t\tkey={todo.id}\n\t\t\t\t\t\ttodo={todo}\n\t\t\t\t\t\tdelTodo={this.props.delTodo}\n\t\t\t\t\t\ttoggleTodo={this.props.toggleTodo}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t);\n\t}\n}","import React from 'react';\nimport DB from './DB';\n\nimport Form from './components/Form';\nimport Todos from './components/Todos';\n\nexport default class App extends React.Component {\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\ttodos: []\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.setState({\n\t\t\ttodos: Object.assign([], DB.getAll())\n\t\t});\n\t}\n\n\taddTodo = (title) => {\n\t\tconsole.log('props in App (addTodo)');\n\n\t\tthis.setState({\n\t\t\ttodos: [\n\t\t\t\t...this.state.todos,\n\t\t\t\tDB.set(new Todo(title)) // add in mocked DB, will return an entry with unique id\n\t\t\t]\n\t\t});\n\t}\n\n\tdelTodo = (id) => {\n\t\tconsole.log(`props in App (delTodo) id:${id}`);\n\n\t\tthis.setState({\n\t\t\ttodos: this.state.todos.filter(todo => {\n\t\t\t\tif (todo.id === id) {\n\t\t\t\t\tDB.del(todo.id); // remove from mocked DB\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t})\n\t\t});\n\t}\n\n\ttoggleTodo = (id) => {\n\t\tconsole.log(`props in App (toggleTodo) id:${id}`);\n\n\t\tthis.setState({\n\t\t\ttodos: this.state.todos.map(todo => {\n\t\t\t\tif (todo.id === id) {\n\t\t\t\t\ttodo.done = !todo.done;\n\t\t\t\t\tDB.put(todo); // update in mocked DB\n\t\t\t\t}\n\t\t\t\treturn todo;\n\t\t\t})\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"list\">\n\t\t\t\t<h1 className=\"header\">React - To do.</h1>\n\t\t\t\t<Form addTodo={this.addTodo} />\n\t\t\t\t<br />\n\t\t\t\t<Todos\n\t\t\t\t\ttodos={this.state.todos}\n\t\t\t\t\tdelTodo={this.delTodo}\n\t\t\t\t\ttoggleTodo={this.toggleTodo}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nclass Todo {\n\tconstructor(title, done = false) {\n\t\tthis.title = title;\n\t\tthis.done = done;\n\t}\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}